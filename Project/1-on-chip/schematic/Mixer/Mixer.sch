v {xschem version=3.4.6 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
P 4 5 -140 -110 -140 170 250 170 250 -110 -140 -110 {}
P 4 1 -70 -280 {}
P 4 5 490 -340 490 -200 670 -200 670 -340 490 -340 {}
P 4 5 -410 -340 -410 -200 -230 -200 -230 -340 -410 -340 {}
P 4 6 720 -710 720 270 1240 270 1240 -740 720 -740 720 -710 {}
P 4 5 -210 -200 470 -200 470 -530 -210 -530 -210 -200 {}
P 4 5 -210 -550 470 -550 470 -630 -210 -630 -210 -550 {}
P 4 5 720 -740 -650 -740 -650 270 720 270 720 -740 {}
T {Bias Stage} -130 170 0 0 0.4 0.4 {}
T {Impedance
Matching} 500 -200 0 0 0.4 0.4 {}
T {Transconductance Stage} -200 -200 0 0 0.4 0.4 {}
T {Impedance
Matching} -400 -200 0 0 0.4 0.4 {}
T {Load Stage} -200 -660 0 0 0.4 0.4 {}
T {Double Balanced Gilbert Cell} -630 -730 0 0 0.8 0.8 {}
N -30 30 -30 50 {lab=#net1}
N 130 30 130 50 {lab=#net2}
N -30 0 -30 30 {lab=#net1}
N 10 80 90 80 {lab=#net1}
N -30 110 -30 140 {lab=GND}
N -30 140 130 140 {lab=GND}
N 130 110 130 140 {lab=GND}
N -30 -80 -30 -60 {lab=VDD}
N -180 140 -30 140 {lab=GND}
N -50 -260 -50 -210 {lab=#net2}
N 310 -260 310 -210 {lab=#net2}
N 580 -290 600 -290 {lab=#net3}
N 660 -290 680 -290 {lab=RF-}
N 510 -220 510 -210 {lab=#net2}
N 510 -290 510 -280 {lab=#net4}
N -340 -290 -320 -290 {lab=#net5}
N -260 -290 -250 -290 {lab=#net6}
N -250 -290 -250 -280 {lab=#net6}
N -250 -220 -250 -210 {lab=#net2}
N -440 -290 -400 -290 {lab=RF+}
N -50 -350 -50 -320 {lab=#net7}
N 310 -350 310 -320 {lab=#net8}
N 420 -410 420 -390 {lab=#net8}
N 130 -440 160 -440 {lab=LO-}
N 460 -440 500 -440 {lab=LO+}
N 310 -390 310 -350 {lab=#net8}
N 310 -390 420 -390 {lab=#net8}
N 200 -390 310 -390 {lab=#net8}
N 200 -410 200 -390 {lab=#net8}
N 60 -410 60 -390 {lab=#net7}
N -230 -440 -200 -440 {lab=LO+}
N -50 -390 -50 -350 {lab=#net7}
N -50 -390 60 -390 {lab=#net7}
N -160 -390 -50 -390 {lab=#net7}
N -160 -410 -160 -390 {lab=#net7}
N 510 -290 520 -290 {lab=#net4}
N -130 -290 -90 -290 {lab=#net6}
N 470 -290 510 -290 {lab=#net4}
N -130 -210 -50 -210 {lab=#net2}
N 130 -210 130 -170 {lab=#net2}
N 200 -390 310 -390 {lab=#net8}
N 100 -440 130 -440 {lab=LO-}
N -50 -210 310 -210 {lab=#net2}
N -160 -500 -160 -470 {lab=IF+}
N -160 -500 200 -500 {lab=IF+}
N 200 -500 200 -470 {lab=IF+}
N 60 -520 60 -470 {lab=IF-}
N 60 -520 420 -520 {lab=IF-}
N 420 -520 420 -470 {lab=IF-}
N 420 -560 420 -520 {lab=IF-}
N -160 -560 -160 -500 {lab=IF+}
N -160 -640 -160 -620 {lab=VDD}
N -160 -640 420 -640 {lab=VDD}
N 420 -640 420 -620 {lab=VDD}
N -320 -640 -160 -640 {lab=VDD}
N 500 -440 500 -380 {lab=LO+}
N -230 -380 500 -380 {lab=LO+}
N -230 -440 -230 -380 {lab=LO+}
N -320 -440 -230 -440 {lab=LO+}
N 130 -440 130 -370 {lab=LO-}
N -320 -370 130 -370 {lab=LO-}
N 420 -520 620 -520 {lab=IF-}
N -160 -540 620 -540 {lab=IF+}
N 130 20 130 30 {lab=#net2}
N 130 140 280 140 {lab=GND}
N 280 -290 280 140 {lab=GND}
N 280 -290 310 -290 {lab=GND}
N -50 -290 280 -290 {lab=GND}
N 200 -440 420 -440 {lab=GND}
N -160 -440 60 -440 {lab=GND}
N 280 -440 280 -290 {lab=GND}
N 0 -440 0 -290 {lab=GND}
N -30 30 50 30 {lab=#net1}
N 50 30 50 80 {lab=#net1}
N 130 -170 130 -100 {lab=#net2}
N 130 -100 130 20 {lab=#net2}
N -300 -80 -30 -80 {lab=VDD}
N 130 80 140 80 {lab=GND}
N 140 80 140 140 {lab=GND}
N -40 80 -30 80 {lab=GND}
N -40 80 -40 140 {lab=GND}
N 350 -290 470 -290 {lab=#net4}
N 310 -210 510 -210 {lab=#net2}
N -250 -210 -130 -210 {lab=#net2}
N -250 -290 -130 -290 {lab=#net6}
N -570 -290 -440 -290 {lab=RF+}
N -570 -140 680 -140 {lab=RF-}
N 680 -290 680 -140 {lab=RF-}
N -570 -640 -320 -640 {lab=VDD}
N -570 -440 -320 -440 {lab=LO+}
N -570 -370 -320 -370 {lab=LO-}
N -470 -80 -300 -80 {lab=VDD}
N -470 -640 -470 -80 {lab=VDD}
C {/foss/pdks/gf180mcuD/libs.tech/xschem/symbols/nfet_03v3.sym} -10 80 0 1 {name=M8
L=\{L_min\}
W=\{W_bias_ref\}
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {ipin.sym} -180 140 0 0 {name=p1 lab=GND}
C {/foss/pdks/gf180mcuD/libs.tech/xschem/symbols/nfet_03v3.sym} 110 80 0 0 {name=M1
L=\{L_min\}
W=\{W_bias_out\}
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {/foss/pdks/gf180mcuD/libs.tech/xschem/symbols/nfet_03v3.sym} 330 -290 0 1 {name=M3
L=\{L_min\}
W=\{W_rf\}
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {/foss/pdks/gf180mcuD/libs.tech/xschem/symbols/nfet_03v3.sym} -70 -290 0 0 {name=M2
L=\{L_min\}
W=\{W_rf\}
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {capa-2.sym} 510 -250 0 0 {name=CGS2
m=1
value=\{C_gate\}
footprint=1206
device=polarized_capacitor}
C {ind.sym} 630 -290 3 0 {name=LG2
m=1
value=\{L_gate\}
footprint=1206
device=inductor}
C {capa-2.sym} -250 -250 0 0 {name=CGS1
m=1
value=\{C_gate\}
footprint=1206
device=polarized_capacitor}
C {ind.sym} -370 -290 3 0 {name=LG1
m=1
value=\{L_gate\}
footprint=1206
device=inductor}
C {res.sym} -290 -290 3 0 {name=RG1
value=\{R_gate\}
footprint=1206
device=resistor
m=1}
C {res.sym} 550 -290 3 0 {name=RG2
value=\{R_gate\}
footprint=1206
device=resistor
m=1}
C {/foss/pdks/gf180mcuD/libs.tech/xschem/symbols/nfet_03v3.sym} 440 -440 0 1 {name=M7
L=\{L_min\}
W=\{W_sw\}
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {/foss/pdks/gf180mcuD/libs.tech/xschem/symbols/nfet_03v3.sym} 180 -440 0 0 {name=M6
L=\{L_min\}
W=\{W_sw\}
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {/foss/pdks/gf180mcuD/libs.tech/xschem/symbols/nfet_03v3.sym} 80 -440 0 1 {name=M5
L=\{L_min\}
W=\{W_sw\}
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {/foss/pdks/gf180mcuD/libs.tech/xschem/symbols/nfet_03v3.sym} -180 -440 0 0 {name=M4
L=\{L_min\}
W=\{W_sw\}
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {res.sym} 420 -590 0 0 {name=RD2
value=\{R_load\}
footprint=1206
device=resistor
m=1}
C {res.sym} -160 -590 0 0 {name=RD1
value=\{R_load\}
footprint=1206
device=resistor
m=1}
C {ipin.sym} -570 -640 2 1 {name=p5 lab=VDD}
C {ipin.sym} -570 -440 0 0 {name=p6 lab=LO+}
C {ipin.sym} -570 -370 0 0 {name=p7 lab=LO-}
C {res.sym} -30 -30 0 0 {name=Rbias
value=\{R_bias\}
footprint=1206
device=resistor
m=1}
C {code_shown.sym} 750 -670 0 0 {name=PARAM_MIXER only_toplevel=false value="
* --- Transistor Length ---
.param L_min = 0.28u

* --- Transistor W/L Ratios ---
.param WL_rf_ratio       = 80
.param WL_sw_ratio       = 40
.param WL_bias_ref_ratio = 10
.param WL_bias_out_ratio = 60

* --- Resistors ---
.param R_load = 600
.param R_bias = 7.5k

* --- Impedance Matching ---
.param R_gate = 50
.param C_gate = 4.7p
.param L_gate = 950n

* --- Calculated Transistor Widths ---
.param W_rf       = \{WL_rf_ratio * L_min\}
.param W_sw       = \{WL_sw_ratio * L_min\}
.param W_bias_ref = \{WL_bias_ref_ratio * L_min\}
.param W_bias_out = \{WL_bias_out_ratio * L_min\}


"}
C {isource.sym} 370 -50 0 0 {name=I0 value=2m}
C {iopin.sym} -570 -290 2 0 {name=p9 lab=RF+}
C {iopin.sym} -570 -140 2 0 {name=p3 lab=RF-}
C {iopin.sym} 620 -540 0 0 {name=p4 lab=IF+}
C {iopin.sym} 620 -520 0 0 {name=p8 lab=IF-}
