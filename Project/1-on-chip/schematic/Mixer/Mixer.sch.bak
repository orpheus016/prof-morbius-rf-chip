v {xschem version=3.4.6 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
P 4 5 -120 -130 -120 150 270 150 270 -130 -120 -130 {}
P 4 1 -50 -300 {}
P 4 5 -190 -530 -190 -370 130 -370 130 -530 -190 -530 {}
P 4 5 170 -530 170 -370 490 -370 490 -530 170 -530 {}
P 4 5 -80 -360 -80 -220 380 -220 380 -360 -80 -360 {}
P 4 5 390 -360 390 -220 570 -220 570 -360 390 -360 {}
P 4 5 -270 -360 -270 -220 -90 -220 -90 -360 -270 -360 {}
P 4 6 -400 -730 -400 250 700 250 700 -740 -400 -740 -400 -730 {}
P 4 6 700 -730 700 250 1160 250 1160 -740 700 -740 700 -730 {}
T {Bias Stage} -110 150 0 0 0.4 0.4 {}
T {Impedance
Matching Circuit} 400 -220 0 0 0.4 0.4 {}
T {Bottom Differential Pair} -70 -220 0 0 0.4 0.4 {}
T {Top Differential Pair} 170 -560 0 0 0.4 0.4 {}
T {Top Differential Pair} -180 -560 0 0 0.4 0.4 {}
T {Impedance
Matching Circuit} -260 -220 0 0 0.4 0.4 {}
N -10 10 -10 30 {lab=#net1}
N 150 10 150 30 {lab=#net2}
N -10 -20 -10 10 {lab=#net1}
N 30 60 110 60 {lab=#net1}
N -10 90 -10 120 {lab=GND}
N -10 120 150 120 {lab=GND}
N 150 90 150 120 {lab=GND}
N -10 -100 -10 -80 {lab=VDD}
N -160 120 -10 120 {lab=GND}
N -30 -280 -30 -230 {lab=#net2}
N 330 -280 330 -230 {lab=#net2}
N 480 -310 500 -310 {lab=#net3}
N 560 -310 580 -310 {lab=RF-}
N 580 -310 580 -230 {lab=RF-}
N 410 -240 410 -230 {lab=#net2}
N 410 -310 410 -300 {lab=#net4}
N -200 -310 -180 -310 {lab=#net5}
N -120 -310 -110 -310 {lab=#net6}
N -110 -310 -110 -300 {lab=#net6}
N -110 -240 -110 -230 {lab=#net2}
N -300 -310 -260 -310 {lab=RF+}
N -30 -370 -30 -340 {lab=#net7}
N 330 -370 330 -340 {lab=#net8}
N 440 -430 440 -410 {lab=#net8}
N 150 -460 180 -460 {lab=LO-}
N 480 -460 520 -460 {lab=LO+}
N 330 -410 330 -370 {lab=#net8}
N 330 -410 440 -410 {lab=#net8}
N 220 -410 330 -410 {lab=#net8}
N 220 -430 220 -410 {lab=#net8}
N 80 -430 80 -410 {lab=#net7}
N -210 -460 -180 -460 {lab=LO+}
N -30 -410 -30 -370 {lab=#net7}
N -30 -410 80 -410 {lab=#net7}
N -140 -410 -30 -410 {lab=#net7}
N -140 -430 -140 -410 {lab=#net7}
N 410 -310 420 -310 {lab=#net4}
N -110 -310 -70 -310 {lab=#net6}
N 370 -310 410 -310 {lab=#net4}
N -110 -230 -30 -230 {lab=#net2}
N 330 -230 410 -230 {lab=#net2}
N 580 -230 580 -160 {lab=RF-}
N 150 -230 150 -190 {lab=#net2}
N 220 -410 330 -410 {lab=#net8}
N 120 -460 150 -460 {lab=LO-}
N -30 -230 330 -230 {lab=#net2}
N -140 -520 -140 -490 {lab=IF+}
N -140 -520 220 -520 {lab=IF+}
N 220 -520 220 -490 {lab=IF+}
N 80 -540 80 -490 {lab=IF-}
N 80 -540 440 -540 {lab=IF-}
N 440 -540 440 -490 {lab=IF-}
N 440 -580 440 -540 {lab=IF-}
N -140 -580 -140 -520 {lab=IF+}
N -140 -660 -140 -640 {lab=VDD}
N -140 -660 440 -660 {lab=VDD}
N 440 -660 440 -640 {lab=VDD}
N -300 -660 -140 -660 {lab=VDD}
N 520 -460 520 -400 {lab=LO+}
N -210 -400 520 -400 {lab=LO+}
N -210 -460 -210 -400 {lab=LO+}
N -300 -460 -210 -460 {lab=LO+}
N 150 -460 150 -390 {lab=LO-}
N -300 -390 150 -390 {lab=LO-}
N 440 -540 640 -540 {lab=IF-}
N -140 -560 640 -560 {lab=IF+}
N 150 -190 150 0 {lab=#net2}
N -280 -100 -10 -100 {lab=VDD}
N -280 -660 -280 -100 {lab=VDD}
N -300 -160 580 -160 {lab=RF-}
N 150 0 150 10 {lab=#net2}
N 150 60 150 90 {lab=GND}
N -10 60 -10 90 {lab=GND}
N 150 120 300 120 {lab=GND}
N 300 -310 300 120 {lab=GND}
N 300 -310 330 -310 {lab=GND}
N -30 -310 300 -310 {lab=GND}
N 220 -460 440 -460 {lab=GND}
N -140 -460 80 -460 {lab=GND}
N 300 -460 300 -310 {lab=GND}
N 20 -460 20 -310 {lab=GND}
N -10 10 70 10 {lab=#net1}
N 70 10 70 60 {lab=#net1}
C {/foss/pdks/gf180mcuD/libs.tech/xschem/symbols/nfet_03v3.sym} 10 60 0 1 {name=M8
L=\{L_min\}
W=\{W_bias\}
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {ipin.sym} -160 120 0 0 {name=p1 lab=GND}
C {/foss/pdks/gf180mcuD/libs.tech/xschem/symbols/nfet_03v3.sym} 130 60 0 0 {name=M1
L=\{L_min\}
W=\{W_bias\}
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {/foss/pdks/gf180mcuD/libs.tech/xschem/symbols/nfet_03v3.sym} 350 -310 0 1 {name=M3
L=\{L_min\}
W=\{W_rf\}
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {/foss/pdks/gf180mcuD/libs.tech/xschem/symbols/nfet_03v3.sym} -50 -310 0 0 {name=M2
L=\{L_min\}
W=\{W_rf\}
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {capa-2.sym} 410 -270 0 0 {name=CGS2
m=1
value=\{C_gate\}
footprint=1206
device=polarized_capacitor}
C {ind.sym} 530 -310 3 0 {name=LG2
m=1
value=\{L_gate\}
footprint=1206
device=inductor}
C {capa-2.sym} -110 -270 0 0 {name=CGS1
m=1
value=\{C_gate\}
footprint=1206
device=polarized_capacitor}
C {ind.sym} -230 -310 3 0 {name=LG1
m=1
value=\{L_gate\}
footprint=1206
device=inductor}
C {res.sym} -150 -310 3 0 {name=RG1
value=\{R_gate\}
footprint=1206
device=resistor
m=1}
C {res.sym} 450 -310 3 0 {name=RG2
value=\{R_gate\}
footprint=1206
device=resistor
m=1}
C {ipin.sym} -300 -310 0 0 {name=p3 lab=RF+}
C {ipin.sym} -300 -160 0 0 {name=p4 lab=RF-}
C {/foss/pdks/gf180mcuD/libs.tech/xschem/symbols/nfet_03v3.sym} 460 -460 0 1 {name=M7
L=\{L_min\}
W=\{W_sw\}
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {/foss/pdks/gf180mcuD/libs.tech/xschem/symbols/nfet_03v3.sym} 200 -460 0 0 {name=M6
L=\{L_min\}
W=\{W_sw\}
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {/foss/pdks/gf180mcuD/libs.tech/xschem/symbols/nfet_03v3.sym} 100 -460 0 1 {name=M5
L=\{L_min\}
W=\{W_sw\}
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {/foss/pdks/gf180mcuD/libs.tech/xschem/symbols/nfet_03v3.sym} -160 -460 0 0 {name=M4
L=\{L_min\}
W=\{W_sw\}
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {res.sym} 440 -610 0 0 {name=D2
value=\{R_load\}
footprint=1206
device=resistor
m=1}
C {res.sym} -140 -610 0 0 {name=RD1
value=\{R_load\}
footprint=1206
device=resistor
m=1}
C {ipin.sym} -300 -660 2 1 {name=p5 lab=VDD}
C {ipin.sym} -300 -460 0 0 {name=p6 lab=LO+}
C {ipin.sym} -300 -390 0 0 {name=p7 lab=LO-}
C {opin.sym} 640 -540 0 0 {name=p2 lab=IF-}
C {opin.sym} 640 -560 0 0 {name=p8 lab=IF+}
C {res.sym} -10 -50 0 0 {name=Rbias
value=1k
footprint=1206
device=resistor
m=1}
C {code_shown.sym} 730 -670 0 0 {name=PARAM only_toplevel=false value="
// --- Transistors ---
.param L_min = 0.28u

.param WL_rf_ratio   = 54
.param WL_sw_ratio   = 27
.param WL_bias_ratio = 54

.param W_rf   = \{WL_rf_ratio * L_min\}
.param W_sw   = \{WL_sw_ratio * L_min\}
.param W_bias = \{WL_bias_ratio * L_min\}

// --- Load Resistor ---
.param R_load = 450

// --- Impadance Matching ---
.param R_gate = 50
.param C_gate = 12.7p
.param L_gate = 200n
"}
C {code_shown.sym} 740 -280 0 0 {name=spice only_toplevel=false value="
.tran 1n 5u
.control
run
plot V(IF+)-V(IF-)
.endc
"}
